try
{
	$this->begin_transaction();
	$this->end_transaction();
}

catch (Exception $exception)
{
	// don't commit any of the queries
	$this->rollback_transaction();
	
	throw $exception;
}
